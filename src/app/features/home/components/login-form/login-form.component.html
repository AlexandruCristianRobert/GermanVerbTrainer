<!-- e:\Projects\Angular\German Verbs\german-verb-trainer\src\app\features\home\components\login-form\login-form.component.html -->

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
  <!-- Error Message -->
  <div
    *ngIf="errorMessage"
    class="bg-red-50 border-l-4 border-red-500 p-4 rounded"
    role="alert"
  >
    <p class="text-sm text-red-700">{{ errorMessage }}</p>
  </div>

  <!-- Email Field -->
  <div>
    <label
      for="login-email"
      class="block text-sm font-medium text-gray-700 mb-1"
    >
      Email Address
    </label>
    <input
      id="login-email"
      type="email"
      formControlName="email"
      placeholder="you@example.com"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
      [class.border-red-500]="email?.invalid && email?.touched"
    />
    <div *ngIf="email?.invalid && email?.touched" class="mt-1">
      <p *ngIf="email?.errors?.['required']" class="text-sm text-red-600">
        Email is required
      </p>
      <p *ngIf="email?.errors?.['email']" class="text-sm text-red-600">
        Please enter a valid email address
      </p>
    </div>
  </div>

  <!-- Password Field -->
  <div>
    <label
      for="login-password"
      class="block text-sm font-medium text-gray-700 mb-1"
    >
      Password
    </label>
    <input
      id="login-password"
      type="password"
      formControlName="password"
      placeholder="••••••••"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
      [class.border-red-500]="password?.invalid && password?.touched"
    />
    <div *ngIf="password?.invalid && password?.touched" class="mt-1">
      <p *ngIf="password?.errors?.['required']" class="text-sm text-red-600">
        Password is required
      </p>
      <p *ngIf="password?.errors?.['minlength']" class="text-sm text-red-600">
        Password must be at least 6 characters
      </p>
    </div>
  </div>

  <!-- Forgot Password Link (Optional for now) -->
  <!-- <div class="text-right">
    <a href="#" class="text-sm text-blue-600 hover:text-blue-700">
      Forgot password?
    </a>
  </div> -->

  <!-- Submit Button -->
  <button
    type="submit"
    [disabled]="isLoading"
    class="w-full bg-blue-600 text-white py-2.5 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
  >
    <span *ngIf="!isLoading">Sign In</span>
    <span *ngIf="isLoading" class="flex items-center justify-center">
      <svg
        class="animate-spin h-5 w-5 mr-2"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
      >
        <circle
          class="opacity-25"
          cx="12"
          cy="12"
          r="10"
          stroke="currentColor"
          stroke-width="4"
        ></circle>
        <path
          class="opacity-75"
          fill="currentColor"
          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
        ></path>
      </svg>
      Signing in...
    </span>
  </button>
</form>
