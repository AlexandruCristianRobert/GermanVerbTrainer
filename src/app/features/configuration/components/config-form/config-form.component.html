<div class="min-h-screen bg-dark-900 py-4 px-4">
  <div class="max-w-3xl mx-auto animate-fade-in">
    <!-- Header -->
    <div class="text-center mb-5">
      <h1 class="text-2xl font-bold text-gradient mb-1">German Verb Trainer</h1>
      <p class="text-sm text-gray-400">Configure your quiz settings</p>
    </div>

    <!-- Configuration Card -->
    <div
      class="bg-dark-800/80 backdrop-blur-lg shadow-card-dark rounded-lg border border-dark-600/50 p-4 mb-4"
    >
      <!-- Validation Errors -->
      <div
        *ngIf="showValidationErrors && validationErrors.length > 0"
        class="mb-4 bg-error-500/10 border border-error-500/50 rounded-lg p-3"
      >
        <div class="flex items-start">
          <svg
            class="h-5 w-5 text-error-400 mt-0.5 mr-3"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
              clip-rule="evenodd"
            />
          </svg>
          <div>
            <h3 class="text-sm font-medium text-error-400 mb-1">
              Please fix the following errors:
            </h3>
            <ul class="list-disc list-inside text-sm text-error-300">
              <li *ngFor="let error of validationErrors">{{ error }}</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Tenses Section -->
      <div class="mb-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-base font-semibold text-white">Tenses</h2>
          <div class="space-x-2 text-xs">
            <button
              (click)="selectAllTenses()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              All
            </button>
            <span class="text-dark-500">|</span>
            <button
              (click)="selectNoTenses()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button
            *ngFor="let tense of availableTenses"
            (click)="toggleTense(tense)"
            [ngClass]="{
              'bg-gradient-to-r from-accent-cyan/20 to-accent-purple/20 border-accent-cyan text-white':
                isTenseSelected(tense),
              'bg-dark-700/50 border-dark-600 text-gray-400':
                !isTenseSelected(tense)
            }"
            class="px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 border hover:border-accent-cyan hover:text-white"
          >
            {{ getTenseLabel(tense) }}
          </button>
        </div>
      </div>

      <!-- Verb Types Section -->
      <div class="mb-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-base font-semibold text-white">Verb Types</h2>
          <div class="space-x-2 text-xs">
            <button
              (click)="selectAllVerbTypes()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              All
            </button>
            <span class="text-dark-500">|</span>
            <button
              (click)="selectNoVerbTypes()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button
            *ngFor="let type of availableVerbTypes"
            (click)="toggleVerbType(type)"
            [ngClass]="{
              'bg-success-500/20 border-success-500 text-success-400':
                isVerbTypeSelected(type),
              'bg-dark-700/50 border-dark-600 text-gray-400':
                !isVerbTypeSelected(type)
            }"
            class="px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 border hover:border-success-500 hover:text-white"
          >
            {{ getVerbTypeLabel(type) }}
          </button>
        </div>
      </div>

      <!-- Persons Section -->
      <div class="mb-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-base font-semibold text-white">Persons</h2>
          <div class="space-x-2 text-xs">
            <button
              (click)="selectAllPersons()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              All
            </button>
            <span class="text-dark-500">|</span>
            <button
              (click)="selectNoPersons()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button
            *ngFor="let person of availablePersons"
            (click)="togglePerson(person)"
            [ngClass]="{
              'bg-accent-purple/20 border-accent-purple text-accent-purple':
                isPersonSelected(person),
              'bg-dark-700/50 border-dark-600 text-gray-400':
                !isPersonSelected(person)
            }"
            class="px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 border hover:border-accent-purple hover:text-white"
          >
            {{ person }}
          </button>
        </div>
      </div>

      <!-- Difficulty Levels Section -->
      <div class="mb-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-base font-semibold text-white">Difficulty</h2>
          <div class="space-x-2 text-xs">
            <button
              (click)="selectAllDifficulties()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              All
            </button>
            <span class="text-dark-500">|</span>
            <button
              (click)="selectNoDifficulties()"
              class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button
            *ngFor="let level of availableDifficulties"
            (click)="toggleDifficulty(level)"
            [ngClass]="{
              'bg-warning-500/20 border-warning-500 text-warning-400':
                isDifficultySelected(level),
              'bg-dark-700/50 border-dark-600 text-gray-400':
                !isDifficultySelected(level)
            }"
            class="px-3 py-1.5 rounded text-xs font-medium transition-all duration-200 border hover:border-warning-500 hover:text-white"
            [title]="getDifficultyLabel(level)"
          >
            {{ level }}
          </button>
        </div>
      </div>

      <!-- Question Count Section -->
      <div class="mb-4">
        <div class="flex items-center gap-3">
          <h2 class="text-base font-semibold text-white">Questions:</h2>
          <select
            [(ngModel)]="config.questionCount"
            (ngModelChange)="updateStatistics()"
            class="px-3 py-1.5 bg-dark-700 border border-dark-600 rounded text-white focus:ring-1 focus:ring-accent-cyan focus:border-transparent transition-all text-sm"
          >
            <option *ngFor="let count of questionCountOptions" [value]="count">
              {{ count }}
            </option>
          </select>
          <span class="text-xs text-gray-400">or</span>
          <input
            type="number"
            [(ngModel)]="config.questionCount"
            (ngModelChange)="updateStatistics()"
            min="1"
            max="50"
            class="w-16 px-3 py-1.5 bg-dark-700 border border-dark-600 rounded text-white focus:ring-1 focus:ring-accent-cyan focus:border-transparent transition-all text-sm"
          />
        </div>
      </div>

      <!-- Statistics Section -->
      <div class="bg-dark-700/30 border border-dark-600/50 rounded p-3 mb-4">
        <div class="flex items-center justify-between text-xs">
          <div>
            <span class="text-gray-400">Verbs:</span>
            <span class="ml-1 font-semibold text-accent-cyan">{{
              availableVerbCount
            }}</span>
          </div>
          <div>
            <span class="text-gray-400">Questions:</span>
            <span class="ml-1 font-semibold text-accent-cyan">{{
              config.questionCount
            }}</span>
          </div>
          <div>
            <span class="text-gray-400">Time:</span>
            <span class="ml-1 font-semibold text-accent-cyan"
              >~{{ estimatedQuizTime }}m</span
            >
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-2">
        <button
          (click)="startQuiz()"
          class="flex-1 bg-gradient-to-r from-accent-cyan to-accent-purple text-white px-4 py-2 rounded font-semibold hover:shadow-glow-cyan transition-all duration-300 text-sm"
        >
          Start Quiz
        </button>
        <button
          (click)="saveConfig()"
          class="bg-success-600 text-white px-4 py-2 rounded font-semibold hover:bg-success-500 transition-all duration-200 text-sm"
        >
          Save
        </button>
        <button
          (click)="resetToDefaults()"
          class="bg-dark-600 text-gray-300 px-4 py-2 rounded font-semibold hover:bg-dark-500 hover:text-white transition-all duration-200 text-sm"
        >
          Reset
        </button>
      </div>
    </div>

    <!-- Quick Links -->
    <div class="text-center text-xs text-gray-500">
      <a
        routerLink="/history"
        class="text-accent-cyan hover:text-accent-purple font-medium mr-4 transition-colors"
        >View History</a
      >
      <a
        routerLink="/sync"
        class="text-accent-cyan hover:text-accent-purple font-medium transition-colors"
        >Sync Data</a
      >
    </div>
  </div>
</div>
