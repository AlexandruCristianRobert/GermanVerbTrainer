<div class="min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">German Verb Trainer</h1>
      <p class="text-lg text-gray-600">Configure your quiz settings</p>
    </div>

    <!-- Configuration Card -->
    <div class="bg-white shadow-lg rounded-lg p-6 mb-6">
      <!-- Validation Errors -->
      <div
        *ngIf="showValidationErrors && validationErrors.length > 0"
        class="mb-6 bg-red-50 border border-red-200 rounded-lg p-4"
      >
        <div class="flex items-start">
          <svg
            class="h-5 w-5 text-red-400 mt-0.5 mr-3"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
              clip-rule="evenodd"
            />
          </svg>
          <div>
            <h3 class="text-sm font-medium text-red-800 mb-1">
              Please fix the following errors:
            </h3>
            <ul class="list-disc list-inside text-sm text-red-700">
              <li *ngFor="let error of validationErrors">{{ error }}</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Tenses Section -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-semibold text-gray-800">Tenses</h2>
          <div class="space-x-2">
            <button
              (click)="selectAllTenses()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Select All
            </button>
            <span class="text-gray-400">|</span>
            <button
              (click)="selectNoTenses()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
          <button
            *ngFor="let tense of availableTenses"
            (click)="toggleTense(tense)"
            [class.bg-blue-600]="isTenseSelected(tense)"
            [class.text-white]="isTenseSelected(tense)"
            [class.bg-gray-100]="!isTenseSelected(tense)"
            [class.text-gray-700]="!isTenseSelected(tense)"
            class="px-4 py-3 rounded-lg font-medium transition-colors duration-150 hover:shadow-md"
          >
            <div class="text-sm">{{ getTenseLabel(tense) }}</div>
            <div class="text-xs opacity-75">{{ tense }}</div>
          </button>
        </div>
      </div>

      <!-- Verb Types Section -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-semibold text-gray-800">Verb Types</h2>
          <div class="space-x-2">
            <button
              (click)="selectAllVerbTypes()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Select All
            </button>
            <span class="text-gray-400">|</span>
            <button
              (click)="selectNoVerbTypes()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <button
            *ngFor="let type of availableVerbTypes"
            (click)="toggleVerbType(type)"
            [class.bg-green-600]="isVerbTypeSelected(type)"
            [class.text-white]="isVerbTypeSelected(type)"
            [class.bg-gray-100]="!isVerbTypeSelected(type)"
            [class.text-gray-700]="!isVerbTypeSelected(type)"
            class="px-4 py-3 rounded-lg font-medium transition-colors duration-150 hover:shadow-md"
          >
            {{ getVerbTypeLabel(type) }}
          </button>
        </div>
      </div>

      <!-- Persons Section -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-semibold text-gray-800">
            Grammatical Persons
          </h2>
          <div class="space-x-2">
            <button
              (click)="selectAllPersons()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Select All
            </button>
            <span class="text-gray-400">|</span>
            <button
              (click)="selectNoPersons()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="grid grid-cols-3 md:grid-cols-6 gap-3">
          <button
            *ngFor="let person of availablePersons"
            (click)="togglePerson(person)"
            [class.bg-purple-600]="isPersonSelected(person)"
            [class.text-white]="isPersonSelected(person)"
            [class.bg-gray-100]="!isPersonSelected(person)"
            [class.text-gray-700]="!isPersonSelected(person)"
            class="px-4 py-3 rounded-lg font-medium transition-colors duration-150 hover:shadow-md"
          >
            {{ person }}
          </button>
        </div>
      </div>

      <!-- Difficulty Levels Section -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xl font-semibold text-gray-800">Difficulty Levels</h2>
          <div class="space-x-2">
            <button
              (click)="selectAllDifficulties()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Select All
            </button>
            <span class="text-gray-400">|</span>
            <button
              (click)="selectNoDifficulties()"
              class="text-sm text-blue-600 hover:text-blue-800 font-medium"
            >
              Clear
            </button>
          </div>
        </div>
        <div class="grid grid-cols-5 gap-3">
          <button
            *ngFor="let level of availableDifficulties"
            (click)="toggleDifficulty(level)"
            [class.bg-orange-600]="isDifficultySelected(level)"
            [class.text-white]="isDifficultySelected(level)"
            [class.bg-gray-100]="!isDifficultySelected(level)"
            [class.text-gray-700]="!isDifficultySelected(level)"
            class="px-4 py-3 rounded-lg font-medium transition-colors duration-150 hover:shadow-md"
          >
            <div class="text-lg">{{ level }}</div>
            <div class="text-xs opacity-75">
              {{ getDifficultyLabel(level) }}
            </div>
          </button>
        </div>
      </div>

      <!-- Question Count Section -->
      <div class="mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">
          Number of Questions
        </h2>
        <div class="flex items-center space-x-4">
          <select
            [(ngModel)]="config.questionCount"
            (ngModelChange)="updateStatistics()"
            class="flex-1 max-w-xs px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          >
            <option *ngFor="let count of questionCountOptions" [value]="count">
              {{ count }} questions
            </option>
          </select>
          <div class="text-sm text-gray-600">
            or enter custom:
            <input
              type="number"
              [(ngModel)]="config.questionCount"
              (ngModelChange)="updateStatistics()"
              min="1"
              max="50"
              class="ml-2 w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
        </div>
      </div>

      <!-- Statistics Section -->
      <div class="bg-blue-50 rounded-lg p-4 mb-6">
        <h3 class="font-semibold text-gray-800 mb-2">Quiz Preview</h3>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
          <div>
            <span class="text-gray-600">Available Verbs:</span>
            <span class="ml-2 font-semibold text-gray-900">{{
              availableVerbCount
            }}</span>
          </div>
          <div>
            <span class="text-gray-600">Questions:</span>
            <span class="ml-2 font-semibold text-gray-900">{{
              config.questionCount
            }}</span>
          </div>
          <div>
            <span class="text-gray-600">Est. Time:</span>
            <span class="ml-2 font-semibold text-gray-900"
              >~{{ estimatedQuizTime }} min</span
            >
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-3">
        <button
          (click)="startQuiz()"
          class="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-150 shadow-md hover:shadow-lg"
        >
          Start Quiz
        </button>
        <button
          (click)="saveConfig()"
          class="flex-1 bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-150 shadow-md hover:shadow-lg"
        >
          Save Configuration
        </button>
        <button
          (click)="resetToDefaults()"
          class="flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors duration-150 shadow-md hover:shadow-lg"
        >
          Reset to Defaults
        </button>
      </div>
    </div>

    <!-- Quick Links -->
    <div class="text-center text-sm text-gray-600">
      <a
        routerLink="/history"
        class="text-blue-600 hover:text-blue-800 font-medium mr-4"
        >View History</a
      >
      <a
        routerLink="/sync"
        class="text-blue-600 hover:text-blue-800 font-medium"
        >Sync Data</a
      >
    </div>
  </div>
</div>
